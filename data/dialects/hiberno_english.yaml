# Hiberno-English (Irish English) Feature Specification
# Based on Filppula (1999), Hickey (2007), Kallen (2013)

dialect_name: Hiberno-English
dialect_code: hiberno_english
aliases:
  - Irish English
  - IrE
  - HibE

# Core syntactic features with detection patterns
features:
  perfective_after:
    name: "Perfective 'after' construction"
    description: "Uses 'after' + gerund to express recent past/perfect aspect"
    examples:
      - original: "I have just eaten"
        transformed: "I'm after eating"
      - original: "She has just left"
        transformed: "She's after leaving"
      - original: "They have just finished"
        transformed: "They're after finishing"
    patterns:
      - "\\b\\w+'s\\s+after\\s+\\w+ing\\b"
      - "\\b(?:I'm|I am|he's|she's|it's|we're|they're|you're)\\s+after\\s+\\w+ing\\b"
      - "\\b(?:is|am|are|was|were)\\s+after\\s+\\w+ing\\b"
    priority: high

  habitual_do_be:
    name: "Habitual 'do be' construction"
    description: "Uses 'do be' or 'does be' for habitual actions"
    examples:
      - original: "He usually works late"
        transformed: "He does be working late"
      - original: "They are always complaining"
        transformed: "They do be complaining"
      - original: "She often sits there"
        transformed: "She does be sitting there"
    patterns:
      - "\\b(?:do|does)\\s+be\\s+\\w+ing\\b"
    priority: high

  amnt_contraction:
    name: "'Amn't' contraction"
    description: "Negative contraction of 'am not' as 'amn't'"
    examples:
      - original: "I'm not sure"
        transformed: "I amn't sure"
      - original: "Am I not right?"
        transformed: "Amn't I right?"
    patterns:
      - "\\bamn't\\b"
    priority: medium

  youse_plural:
    name: "Second person plural 'youse/ye'"
    description: "Distinct second person plural pronoun"
    examples:
      - original: "Are you all coming?"
        transformed: "Are youse coming?"
      - original: "I told you all"
        transformed: "I told youse"
      - original: "You people should know"
        transformed: "Ye should know"
    patterns:
      - "\\byouse\\b"
      - "\\bye\\b(?!\\s+olde)"  # Avoid matching "ye olde"
    priority: medium

  sure_discourse:
    name: "'Sure' as discourse marker"
    description: "Sentence-initial 'sure' as pragmatic marker"
    examples:
      - original: "I was just saying that"
        transformed: "Sure, wasn't I just saying that"
      - original: "Everyone knows that"
        transformed: "Sure, everyone knows that"
      - original: "It's obvious"
        transformed: "Sure, isn't it obvious"
    patterns:
      - "^[Ss]ure,?\\s+"
      - "\\b[Ss]ure,?\\s+(?:wasn't|isn't|aren't|don't|doesn't)"
    priority: medium

  cleft_emphasis:
    name: "Cleft sentences for emphasis"
    description: "Fronting predicates with 'it's X that/I am' structure"
    examples:
      - original: "I am very tired"
        transformed: "It's tired I am"
      - original: "He is really clever"
        transformed: "It's clever he is"
      - original: "That's what I want"
        transformed: "It's that I want"
    patterns:
      - "\\b[Ii]t's\\s+\\w+\\s+(?:I|he|she|we|they|you)\\s+(?:am|is|are|was|were)\\b"
    priority: high

  reflexive_reference:
    name: "Reflexive pronoun for emphasis"
    description: "Using 'himself/herself' to refer to important person"
    examples:
      - original: "Is the boss coming?"
        transformed: "Is himself coming?"
      - original: "The wife said so"
        transformed: "Herself said so"
    patterns:
      - "\\b(?:[Hh]imself|[Hh]erself)\\s+(?:said|told|came|went|is|was)"
      - "\\b[Ii]s\\s+(?:himself|herself)\\b"
    priority: low

  for_to_infinitive:
    name: "'For to' infinitive"
    description: "Using 'for to' instead of simple 'to' in purpose clauses"
    examples:
      - original: "I went to buy milk"
        transformed: "I went for to buy milk"
      - original: "She came to help"
        transformed: "She came for to help"
    patterns:
      - "\\bfor\\s+to\\s+\\w+\\b"
    priority: medium

  embedded_inversion:
    name: "Embedded question inversion"
    description: "Maintaining inversion in indirect questions"
    examples:
      - original: "I wonder if he is coming"
        transformed: "I wonder is he coming"
      - original: "I don't know if she has it"
        transformed: "I don't know has she it"
    patterns:
      - "\\b(?:wonder|know|ask|see)\\s+(?:is|are|was|were|has|have|did|does|do|will|would|can|could)\\s+(?:he|she|it|they|we|you|I)\\b"
    priority: medium

  and_subject_gerund:
    name: "'And' + subject + gerund narrative"
    description: "Narrative construction with fronted 'and'"
    examples:
      - original: "I was just sitting there"
        transformed: "And me sitting there"
      - original: "He was standing at the door"
        transformed: "And him standing at the door"
    patterns:
      - "\\b[Aa]nd\\s+(?:me|him|her|them|us)\\s+\\w+ing\\b"
    priority: low

  after_noun_plural:
    name: "Plural after numerals"
    description: "Using singular form after numerals (Irish substrate)"
    examples:
      - original: "three miles"
        transformed: "three mile"
      - original: "five pounds"
        transformed: "five pound"
    patterns:
      - "\\b(?:two|three|four|five|six|seven|eight|nine|ten|\\d+)\\s+(?:mile|pound|year|foot|stone)\\b"
    priority: low

  so_it_is:
    name: "Tag 'so it is/so I did'"
    description: "Emphatic tag at end of sentence"
    examples:
      - original: "It's cold today"
        transformed: "It's cold today, so it is"
      - original: "I saw him yesterday"
        transformed: "I saw him yesterday, so I did"
    patterns:
      - ",?\\s+so\\s+(?:it|I|he|she|we|they)\\s+(?:is|am|are|was|were|did|do|does)(?:\\.|,|$)"
    priority: medium

  tis_contraction:
    name: "'Tis contraction"
    description: "Contraction of 'it is' as ''tis'"
    examples:
      - original: "It is a fine day"
        transformed: "'Tis a fine day"
      - original: "It's not easy"
        transformed: "'Tisn't easy"
    patterns:
      - "\\b[''']?[Tt]is(?:n't)?\\b"
    priority: medium

  grand_colloquial:
    name: "'Grand' as positive/fine"
    description: "Using 'grand' to mean fine, good, or as a thousand (euro/pound)"
    examples:
      - original: "That's fine"
        transformed: "That's grand"
      - original: "eighty thousand"
        transformed: "eighty grand"
    patterns:
      - "\\b(?:that's|it's|you're|I'm|he's|she's)\\s+grand\\b"
      - "\\b\\d+\\s+grand\\b"
    priority: low

  fierce_intensifier:
    name: "'Fierce' as intensifier"
    description: "Using 'fierce' as an intensifier meaning 'very'"
    examples:
      - original: "very busy"
        transformed: "fierce busy"
      - original: "really cold"
        transformed: "fierce cold"
    patterns:
      - "\\bfierce\\s+\\w+"
    priority: low

# Features to AVOID (stereotypes/"stage Irish")
avoid_features:
  - "Top o' the morning"
  - "Begorrah"
  - "Faith and begorrah"
  - "To be sure, to be sure"
  - "Excessive leprechaun speak"
  - "Random apostrophes to suggest accent"
  - "Oirish spellings"

# Validation thresholds
validation:
  min_features_required: 1
  semantic_similarity_threshold: 0.85
  authenticity_score_threshold: 0.7

# =============================================================================
# Transformation Prompts
# =============================================================================
prompts:
  system: |
    You are a linguistic expert specializing in Hiberno-English (Irish English). Your task is to transform Standard English text into authentic Hiberno-English while preserving the exact meaning.

    CRITICAL: You MUST apply at least one SYNTACTIC feature from the list below. Do NOT rely on phonetic spellings or accent markers.

    ## Syntactic Features to Apply (use at least ONE per transformation):

    1. **Perfective "after" construction** - for recent completion:
       - "I have just eaten" → "I'm after eating"
       - "She finished the work" → "She's after finishing the work"

    2. **Habitual "do be" construction** - ONLY for repeated/habitual actions (not one-time events):
       - "The bus is always late" → "The bus does be late"
       - "They're forever complaining about the weather" → "They do be complaining about the weather"
       - NOTE: Do NOT use for one-time actions. "He is working now" should NOT become "He does be working"

    3. **Emphatic tags "so it is/so I did/so they do"** - for emphasis at end of statements:
       - "It's cold" → "It's cold, so it is"
       - "He left early" → "He left early, so he did"

    4. **"Sure" as discourse marker** - sentence-initial, to introduce statements:
       - "Everyone knows that" → "Sure, everyone knows that"
       - "Of course I remember" → "Sure, I remember"

    5. **Embedded question inversion** - in indirect questions:
       - "I wonder if he is coming" → "I wonder is he coming"
       - "I asked if she was ready" → "I asked was she ready"

    ## Features to AVOID (stereotypes and phonetic changes):
    - "Top o' the morning" - stage Irish
    - "Begorrah" / "Faith and begorrah" - stereotype
    - Dropping 'g' from -ing (e.g., "goin'", "doin'") - NOT Hiberno-English
    - Adding apostrophes to suggest accent
    - "o'" for "of" - NOT authentic
    - Any "Oirish" or leprechaun-style speech
    - Excessive use of "'Tis" - only use sparingly in appropriate contexts

    ## Guidelines:
    1. MUST apply at least one syntactic feature from the list above
    2. Preserve the EXACT meaning - especially numbers, names, and technical content
    3. Keep the same sentence structure when possible
    4. Do NOT add or remove information
    5. Mathematical precision is essential for reasoning tasks

  user_template: |
    Transform the following Standard English text into authentic Hiberno-English.

    EXAMPLES:
    Input: "She has just arrived at the station."
    Output: "She's after arriving at the station."

    Input: "The car costs $5000. How much would two cars cost?"
    Output: "The car costs $5000, so it does. How much would two cars cost?"

    Input: "I wonder if she is coming to the party."
    Output: "I wonder is she coming to the party."

    Input: "Of course I'll help you with that."
    Output: "Sure, I'll help you with that."

    RULES:
    1. Output ONLY the transformed text
    2. Use at least ONE syntactic feature: "after + verb", "so it is/does/did" tag, "Sure" as starter, or embedded question inversion
    3. Keep numbers, names, and technical terms EXACTLY as they appear
    4. If input is a question, output must also be a question
    5. Do NOT add commentary or explanations

    Original text:
    {text}

    Transformed text:

  batch_template: |
    Transform each of the following Standard English texts into authentic Hiberno-English. Apply appropriate dialect features while preserving the exact meaning.

    For each text, output ONLY the transformed version on a new line, in the same order as the input.

    Texts to transform:
    {texts}

    Transformed texts (one per line):

# =============================================================================
# Authenticity Validation Patterns
# =============================================================================
authenticity:
  # Patterns that indicate stereotyped/fake dialect (to reject)
  stereotype_patterns:
    - "\\btop o[f']? the mornin"
    - "\\bbegorrah\\b"
    - "\\bfaith and begorrah\\b"
    - "\\bto be sure,? to be sure\\b"
    - "\\bbegorra\\b"
    - "\\boch\\s+aye\\b"
    - "\\blassie\\b"
    - "\\bladdie\\b"
    - "\\bme darlin[g']?\\b"
    - "\\bwee bit o[f']?\\b"
    - "\\bpotato famine\\b"
    - "\\bleprechaun\\b"
    - "\\bpot o[f']? gold\\b"
    - "\\bshamrock\\b"
    - "\\bpaddy\\b"
    - "\\bmick\\b"

  # Patterns that suggest fake/exaggerated dialect
  suspicious_patterns:
    - "'[a-z]+in\\b"
    - "\\b[a-z]+'[a-z]+\\b.*\\b[a-z]+'[a-z]+\\b.*\\b[a-z]+'[a-z]+\\b"
    - "\\baye\\b.*\\baye\\b.*\\baye\\b"
    - "!{3,}"

  # Patterns that indicate authentic dialect (positive markers)
  authentic_markers:
    - "\\b(?:I'm|he's|she's|we're|they're)\\s+after\\s+\\w+ing\\b"
    - "\\b(?:do|does)\\s+be\\s+\\w+ing\\b"
    - "\\bamn't\\b"
    - "\\byouse\\b"
    - "^[Ss]ure,?\\s+"
    - ",\\s+so\\s+(?:it|I|he|she)\\s+(?:is|am|did)\\s*[.!?]?$"
