# African American Vernacular English (AAVE) Feature Specification
# Based on Rickford (1999), Green (2002), Labov (1972)

dialect_name: African American Vernacular English
dialect_code: aave
aliases:
  - AAVE
  - Black English
  - African American English
  - AAE

# Core syntactic features with detection patterns
features:
  habitual_be:
    name: "Habitual/Invariant 'be'"
    description: "Uses 'be' without conjugation for habitual or recurring actions"
    examples:
      - original: "He is usually working late"
        transformed: "He be working late"
      - original: "She is always tired on Mondays"
        transformed: "She be tired on Mondays"
      - original: "They are constantly complaining"
        transformed: "They be complaining"
    patterns:
      - "\\b(?:I|he|she|it|we|they|you)\\s+be\\s+\\w+ing\\b"
      - "\\b(?:I|he|she|it|we|they|you)\\s+be\\s+\\w+(?:ed)?\\b"
    priority: high

  copula_deletion:
    name: "Copula deletion"
    description: "Omission of 'is' or 'are' in present tense"
    examples:
      - original: "She is nice"
        transformed: "She nice"
      - original: "They are ready"
        transformed: "They ready"
      - original: "He is my friend"
        transformed: "He my friend"
    patterns:
      - "\\b(?:he|she|it|they|we|you)\\s+(?:nice|ready|good|bad|tired|hungry|busy|crazy|fine|cool|real|right|wrong)\\b"
      - "\\b(?:he|she|it)\\s+my\\s+\\w+\\b"
    priority: high

  completive_done:
    name: "Completive 'done'"
    description: "Uses 'done' to indicate completed action"
    examples:
      - original: "I have already finished"
        transformed: "I done finished"
      - original: "She has already eaten"
        transformed: "She done ate"
      - original: "They have already left"
        transformed: "They done left"
    patterns:
      - "\\b(?:I|he|she|it|we|they|you)\\s+done\\s+\\w+(?:ed)?\\b"
      - "\\b(?:I|he|she|it|we|they|you)\\s+done\\s+(?:went|ate|saw|came|got|left|told|gave|took|made)\\b"
    priority: high

  remote_past_been:
    name: "Remote past 'been' (stressed BIN)"
    description: "Uses stressed 'been' for action that happened long ago or has been true for a long time"
    examples:
      - original: "I have known that for a long time"
        transformed: "I been knew that"
      - original: "She has been married for years"
        transformed: "She been married"
      - original: "We have finished that a while ago"
        transformed: "We been finished that"
    patterns:
      - "\\b(?:I|he|she|it|we|they|you)\\s+been\\s+(?:knew|had|done|finished|married|told|seen)\\b"
    priority: medium

  aint_negation:
    name: "'Ain't' as negator"
    description: "Uses 'ain't' for 'am not', 'isn't', 'aren't', 'hasn't', 'haven't'"
    examples:
      - original: "I am not going"
        transformed: "I ain't going"
      - original: "She hasn't finished"
        transformed: "She ain't finished"
      - original: "They aren't ready"
        transformed: "They ain't ready"
    patterns:
      - "\\bain't\\b"
    priority: medium

  negative_concord:
    name: "Negative concord (multiple negation)"
    description: "Uses multiple negatives for emphasis"
    examples:
      - original: "I don't have any money"
        transformed: "I ain't got no money"
      - original: "She doesn't know anything"
        transformed: "She don't know nothing"
      - original: "Nobody ever helps me"
        transformed: "Nobody don't never help me"
    patterns:
      - "\\bain't\\s+got\\s+no\\b"
      - "\\bdon't\\s+(?:got|know|want|need)\\s+no(?:thing|body|where)?\\b"
      - "\\bnobody\\s+don't\\b"
      - "\\bno\\s+\\w+\\s+(?:never|no)\\b"
    priority: medium

  finna_future:
    name: "'Finna' for immediate future"
    description: "Uses 'finna' (fixing to) for immediate future actions"
    examples:
      - original: "I am about to leave"
        transformed: "I'm finna leave"
      - original: "She is going to eat"
        transformed: "She finna eat"
    patterns:
      - "\\bfinna\\s+\\w+\\b"
    priority: medium

  existential_it:
    name: "Existential 'it'"
    description: "Uses 'it' instead of 'there' in existential constructions"
    examples:
      - original: "There is a man at the door"
        transformed: "It's a man at the door"
      - original: "There are two options"
        transformed: "It's two options"
    patterns:
      - "\\b[Ii]t's\\s+(?:a|an|some|two|three|four|five|\\d+)\\s+\\w+\\s+(?:at|in|on|by|near)\\b"
    priority: low

  aspectual_steady:
    name: "Aspectual 'steady'"
    description: "Uses 'steady' for continuous, intense action"
    examples:
      - original: "He keeps working hard"
        transformed: "He steady working hard"
      - original: "She is continuously talking"
        transformed: "She steady talking"
    patterns:
      - "\\bsteady\\s+\\w+ing\\b"
    priority: low

  come_indignation:
    name: "'Come' for indignation"
    description: "Uses 'come' to express indignation about an action"
    examples:
      - original: "She had the nerve to tell me"
        transformed: "She come telling me"
      - original: "He dared to walk in here"
        transformed: "He come walking in here"
    patterns:
      - "\\b(?:he|she|they|you)\\s+come\\s+\\w+ing\\b"
    priority: low

  possessive_they:
    name: "'They' as possessive"
    description: "Uses 'they' for 'their'"
    examples:
      - original: "That's their house"
        transformed: "That's they house"
      - original: "Their car is new"
        transformed: "They car is new"
    patterns:
      - "\\bthey\\s+(?:house|car|mama|daddy|brother|sister|friend|stuff|thing|money|place)\\b"
    priority: low

  third_person_dont:
    name: "Uninflected 'don't'"
    description: "Uses 'don't' for third person singular instead of 'doesn't'"
    examples:
      - original: "He doesn't know"
        transformed: "He don't know"
      - original: "She doesn't care"
        transformed: "She don't care"
    patterns:
      - "\\b(?:he|she|it)\\s+don't\\b"
    priority: medium

# Features to AVOID (stereotypes)
avoid_features:
  - "Excessive apostrophes to mark 'accent'"
  - "Minstrel-style exaggerations"
  - "Random misspellings"
  - "Mixing with Caribbean or African dialects"
  - "Exaggerated slang not part of authentic AAVE"

# Validation thresholds
validation:
  min_features_required: 1
  semantic_similarity_threshold: 0.85
  authenticity_score_threshold: 0.7

# =============================================================================
# Transformation Prompts
# =============================================================================
prompts:
  system: |
    You are a linguistic expert specializing in African American Vernacular English (AAVE). Your task is to transform Standard English text into authentic AAVE while preserving the exact meaning.

    CRITICAL: You MUST apply at least one SYNTACTIC feature from the list below. Do NOT rely on slang, phonetic spellings, or accent markers.

    ## Syntactic Features to Apply (use at least ONE per transformation):

    1. **Habitual "be"** - ONLY for habitual/recurring actions (not one-time events):
       - "He is usually working late" → "He be working late"
       - "She is always tired on Mondays" → "She be tired on Mondays"
       - NOTE: Do NOT use for one-time actions. "He is working now" should NOT become "He be working"

    2. **Completive "done"** - for completed actions:
       - "I have already finished" → "I done finished"
       - "She has already eaten" → "She done ate"

    3. **"Ain't" negation** - for general negation:
       - "I am not going" → "I ain't going"
       - "She hasn't finished" → "She ain't finished"

    4. **Negative concord** - multiple negatives for emphasis:
       - "I don't have any money" → "I ain't got no money"
       - "She doesn't know anything" → "She don't know nothing"

    5. **Uninflected "don't"** - for third person singular:
       - "He doesn't know" → "He don't know"
       - "She doesn't care" → "She don't care"

    ## Features to AVOID (stereotypes and exaggerations):
    - Random apostrophes or dropped letters to suggest accent
    - Minstrel-style or exaggerated "Black speak"
    - Excessive slang that isn't part of authentic AAVE grammar
    - Mixing with other dialect features

    ## Guidelines:
    1. MUST apply at least one syntactic feature from the list above
    2. Preserve the EXACT meaning - especially numbers, names, and technical content
    3. Keep the same sentence structure when possible
    4. Do NOT add or remove information
    5. Mathematical precision is essential for reasoning tasks

  user_template: |
    Transform the following Standard English text into authentic African American Vernacular English (AAVE).

    EXAMPLES:
    Input: "She has just finished her homework."
    Output: "She done finished her homework."

    Input: "The bus is always late on Tuesdays."
    Output: "The bus be late on Tuesdays."

    Input: "I don't have any idea what he wants."
    Output: "I ain't got no idea what he want."

    Input: "He doesn't know the answer."
    Output: "He don't know the answer."

    RULES:
    1. Output ONLY the transformed text
    2. Use at least ONE syntactic feature: habitual "be", completive "done", "ain't", negative concord, or uninflected "don't"
    3. Keep numbers, names, and technical terms EXACTLY as they appear
    4. If input is a question, output must also be a question
    5. Do NOT add commentary or explanations

    Original text:
    {text}

    Transformed text:

  batch_template: |
    Transform each of the following Standard English texts into authentic African American Vernacular English (AAVE). Apply appropriate dialect features while preserving the exact meaning.

    For each text, output ONLY the transformed version on a new line, in the same order as the input.

    Texts to transform:
    {texts}

    Transformed texts (one per line):

# =============================================================================
# Authenticity Validation Patterns
# =============================================================================
authenticity:
  # Patterns that indicate stereotyped/fake dialect (to reject)
  stereotype_patterns:
    - "\\byo\\s+yo\\s+yo\\b"
    - "\\bhomie\\b.*\\bhomie\\b"
    - "\\bword\\s+up\\b"
    - "\\bknow\\s+what\\s+I'm\\s+sayin[g']?\\b"
    - "\\bpeace\\s+out\\b"

  # Patterns that suggest fake/exaggerated dialect
  suspicious_patterns:
    - "'[a-z]+in\\b"
    - "\\b[a-z]+'[a-z]+\\b.*\\b[a-z]+'[a-z]+\\b.*\\b[a-z]+'[a-z]+\\b"
    - "\\bda\\b"
    - "\\bdis\\b"
    - "\\bdat\\b"

  # Patterns that indicate authentic dialect (positive markers)
  authentic_markers:
    - "\\b(?:he|she|they|we|I)\\s+be\\s+\\w+ing\\b"
    - "\\b(?:I|he|she|they|we)\\s+done\\s+\\w+"
    - "\\bain't\\b"
    - "\\bain't\\s+got\\s+no\\b"
    - "\\b(?:he|she|it)\\s+don't\\b"
    - "\\bfinna\\b"
    - "\\bsteady\\s+\\w+ing\\b"
